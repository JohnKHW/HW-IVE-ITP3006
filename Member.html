<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!--title icon-->
    <link rel="icon" href="images/icon.png">
    <!--link to the css code of header and footer-->
    <link rel="stylesheet" href="CSS/headFoot.css">
    <!--link to the css code of Member-->
    <link rel="stylesheet" href="CSS/member.css">
    <!--link to the css code of show/hide password icon-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    <!--media icon(css icon library)-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <title>Member | League Of Legends</title>
</head>
<body>
    <a name="top"></a>
    <!--Sticky Header Item-->
    <div id="header">
        <div id="small_header">
            <img src="images/logo.png">
            <span onclick="smallbar()">&#9776</span>
        </div>
        <div id="menu_bar">
            <ul>
                <li>
                    <a href="index.html">Home</a>
                </li>
            </ul>
            <span>|</span>
            <ul>
                <li>
                    <a href="">News</a>
                    <ul class="sub">
                        <li><a href="Heros.html">Heros</a></li>
                        <li><a href="Maps.html">Maps</a></li>
                        <li><a href="Update.html">Update</a></li>
                    </ul>
                </li>
            </ul>
            <span>|</span>
            <ul>
                <li>
                    <a href="">Service</a>
                    <ul class="sub">
                        <li><a href="Member.html">Member</a></li>
                        <li><a href="Game.html">Game</a></li>
                        <li><a href="Support.html">Support</a></li>
                    </ul>
                </li>
            </ul>
            <span>|</span>
            <div id="search" onmousemove="toSearch()" onmouseout="toImage()">
                <img id="searchPic" src="images/search.png" >
                <input id="searchField" type="search" placeholder="Search">
            </div>
        </div>
    </div>
    <!--Container of Login and Register-->
    <div class="body">
        <div class="container_member">
            <!--Login Form Item-->
            <div id="login">
                <h2>Login</h2>
                <form id="loginFrom">
                    <div class="inputBox">
                        <input type="text" required="">
                        <label>User Name</label>
                    </div>
                    <div class="inputBox">
                        <input type="password" required="" id="password">
                        <div class="showhide" onmousedown="showPW()" onmouseup="hidePW()">
                            <i id="hide" class="far fa-eye-slash"></i>
                            <i id="show" class="far fa-eye"></i>
                        </div>
                        <label>Password</label>
                    </div>
                    <input type="submit" value="Submit">
                    <a href="#register+#top"><input type="button" value="Not a member" onclick="register()" ></a>
                </form>
            </div>
            <!--Register Form Item-->
            <div id="register">
                <h2>Register</h2>
                <form id="registerForm" method="post" enctype="multipart/form-data">
                    <div class="inputBox">
                        <input type="text" name="name" required="">
                        <label>User Name</label>
                    </div>
                    <div class="inputBox">
                        <input id="regPW" type="password" name="pw" required=""  maxlength="16" oninput="checkPW()">
                        <i id="strength"></i>
                        <label>Password</label>
                    </div>
                    <div class="inputBox">
                        <input id="confirm" type="password" name="pw" required="" maxlength="16" oninput="checkConfirmPW()">
                        <label>Confirm Password</label>
                    </div>
                    <div class="inputBox">
                        <input id="email" type="text" name="email" required="" oninput="checkEmail()">
                        <label>Email</label>
                    </div>
                    <div class="inputBox">
                        <label class="select" onmousemove="selected('gender')" onmouseout="deselected('gender')"  onclick="selected('gender')+clicked()">
                            <input id="genderChoice" type="radio" name="gender" value="M">
                            <span class="m">Male</span>
                        </label>
                            <label class="select" onmousemove="selected('gender')" onmouseout="deselected('gender')"  onclick="selected('gender')+clicked()">
                                <input id="genderChoice" type="radio" name="gender" value="F">
                                <span class="f">Female</span>    
                            </label>
                        <label id="gender">Gender</label>
                    </div>
                    <div class="inputBox">
                        <select id="month" name="month" required>
                            <option value=""></option>
                            <option value="Jan">January</option>
                            <option value="Feb">February</option>
                            <option value="Mar">March</option>
                            <option value="Apr">April</option>
                            <option value="May">May</option>
                            <option value="Jun">June</option>
                            <option value="Jul">July</option>
                            <option value="Aug">August</option>
                            <option value="Sep">September</option>
                            <option value="Oct">October</option>
                            <option value="Nov">November</option>
                            <option value="Dec">December</option>
                        </select>
                        <label id="month">Month</label>
                    </div>
                    <div class="inputBox">
                        <input id="day" type="text" name="day" required="" maxlength="2" oninput="checkDay()">
                        <label>Day</label>
                    </div>
                    <div class="inputBox">
                        <input id="year" type="text" name="year" required="" maxlength="4"  oninput="checkYear()">
                        <label>Year</label>
                    </div>
                    <input type="button" value="Submit" onclick="checkAll()">
                    <a href="#login+#top"><input type="button" value="Is a member" onclick="login()" ></a>
                    <input type="reset" value="Reset">
                </form>
            </div>
        </div>
    </div>
    <!--Container of Bottom Items-->
    <div class="bottom">
        <div class="container_social">
            <ul>
                <li>
                    <a href="https://www.facebook.com/leagueoflegends/">
                        <span></span><!--For 3D Hover Effect(Layer1)-->
                        <span></span><!--For 3D Hover Effect(Layer2)-->
                        <span></span><!--For 3D Hover Effect(Layer3)-->
                        <span></span><!--For 3D Hover Effect(Layer4)-->
                        <span class="fa fa-facebook"></span><!--For 3D Hover Effect(Layer5)-->
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/leagueoflegends">
                        <span></span><!--For 3D Hover Effect(Layer1)-->
                        <span></span><!--For 3D Hover Effect(Layer2)-->
                        <span></span><!--For 3D Hover Effect(Layer3)-->
                        <span></span><!--For 3D Hover Effect(Layer4)-->
                        <span class="fa fa-twitter"></span><!--For 3D Hover Effect(Layer5)-->
                    </a>
                </li>
                <li>
                    <a href="https://www.youtube.com/channel/UC2t5bjwHdUX4vM2g8TRDq5g">
                        <span></span><!--For 3D Hover Effect(Layer1)-->
                        <span></span><!--For 3D Hover Effect(Layer2)-->
                        <span></span><!--For 3D Hover Effect(Layer3)-->
                        <span></span><!--For 3D Hover Effect(Layer4)-->
                        <span class="fa fa-youtube"></span><!--For 3D Hover Effect(Layer5)-->
                    </a>
                </li>
            </ul>
        </div>
        <div class="logo_bot">
            <img src="images/logo.png">
        </div>
    </div>
</body>

<script>
    var hide = true;
    var frame = document.getElementById("menu_bar");
    function smallbar(){
        if(hide){
            frame.style.display="block";
            hide=false;
        }else{
            frame.style.display="none";
            hide = true;
        }
    }
    function switchSize(x) {
      if (size.matches) { // If media query matches
        frame.style.display="none";
        hide=true;
      }else {
        frame.style.display="block";
        hide=false;
      }
    }
    var size = window.matchMedia("(max-width: 450px)");
    switchSize(size); // Call listener function at run time
    size.addListener(switchSize); // Attach listener function on state changes
    
    window.addEventListener('scroll', function(){
        menuBar();
        switchSize(size);
    });//while scrolling the window, it will call sticky bar function
    var stickyBar = document.getElementById("header");
    var sticky = stickyBar.offsetTop;
    function menuBar(){//set the menu bar to be a sticky bar
        if(window.pageYOffset > sticky){stickyBar.classList.add("sticky");}
        else{stickyBar.classList.remove("sticky");}
    }
    toImage();//set the search button to icon side
    /*
    The above functions is use for sticky menu bar.
    When user scrolling the windows, window.onscroll will check that whether menu_bar is arrive the toppest position of clientY.
    After that, it will add a class call "sticky", so that we can set the position of menu_bar to be "sticky" in css.
    */
    
    function toSearch(){//switch icon side to search side
        document.getElementById("searchField").style.display = "block";
        document.getElementById("searchPic").style.display = "none";
    }
    function toImage(){//switch search side to icon side
        document.getElementById("searchField").style.display = "none";
        document.getElementById("searchPic").style.display = "block";
    }
    /*
    The above functions is use for switch the search bar of input side or image side 
    */
    
    hidePW();
    function showPW(){//Show the password of password field
        var x = document.getElementById("password");
        x.type = "text";
        document.getElementById("show").style.display = "block";
        document.getElementById("hide").style.display = "none";
    }
    function hidePW(){//Hide the password of password field
        var x = document.getElementById("password");
        x.type = "password";
        document.getElementById("show").style.display = "none";
        document.getElementById("hide").style.display = "block";
    }
    /*
    The above functions is use for show or hide the value of input password field value and change the icon of the button.
    */
    login();
    function login(){//Switch to login funcion
        document.getElementById("register").style.display = "none";
        document.getElementById("login").style.display = "block";
    }
    function register(){//Switch to register funcion
        document.getElementById("login").style.display = "none";
        document.getElementById("register").style.display = "block";
    }
    /*
    The above functions is use for switch the form to login form or register form.
    */
    var checked;//boolean of checking whether select the gender
  
    function clicked(){//check whether selected gender
        checked = true;
    }
    function selected(element){//selected or hover gender lable effect
        document.getElementById(element).style.top = "-18px";
        document.getElementById(element).style.color = "cornflowerblue";
        document.getElementById(element).style.fontSize = "12px";
    }
    function deselected(element){//mouse move out gender lable effect
        if(!checked){
            document.getElementById(element).style.top = "0";
            document.getElementById(element).style.color = "white";
            document.getElementById(element).style.fontSize = "16px";
        }
    }
    /*
    The above functions is insteaded of checking "gender" option whether selected by user.
    The function is same of the other input fields to check it valid. 
    */
    
    var bPW;//boolean of checking valid password
    var bConfirm;//boolean of checking confirm password
    var bEmail;//boolean of checking valid email
    var bDay;//boolean of checking valid birth day
    var bYear;//boolean of checking valid birth year
    function checkPW(){//check password which is fulfil the pattern and validable
        var pwd = document.getElementById("regPW");
        var ps = new RegExp("[a-z]");
        var pl = new RegExp("[A-Z]");
        var pd = new RegExp("[0-9]");
        var strength = document.getElementById("strength");
        if(pwd.value.length>3&&((ps.test(pwd.value)&&pd.test(pwd.value))||(pl.test(pwd.value)&&pd.test(pwd.value))) ){
            bPW = true;
            strength.style.display="block";
            document.getElementById("regPW").style.borderBottom="1px solid white";
            strength.style.backgroundColor="orangered";
            if (pwd.value.length>12&&ps.test(pwd.value)&&pd.test(pwd.value)&&pl.test(pwd.value)){
                strength.style.backgroundColor="yellowgreen";
            }else if(pwd.value.length>8){
                strength.style.backgroundColor="yellow";
            }
            /*
            This function is checking the strength of the password.
            If it satisfies some conditions, it will change the color.
            */
        }else {
            strength.style.display="none";
            document.getElementById("regPW").style.borderBottom="1px solid red";
            bPW = false;
        }
    }
    function checkConfirmPW() {//check confirm password which is equal to password field
        var password = document.getElementById("regPW");
        var confirm = document.getElementById("confirm");
        if(password.value==confirm.value){
            bConfirm = true;
            document.getElementById("confirm").style.borderBottom="1px solid white";
        }else{
            bConfirm = false;
            document.getElementById("confirm").style.borderBottom="1px solid red";
        }
    }
    function checkEmail(){//check email which is fulfil the pattern and validable
        var email = document.getElementById("email");
        var at = email.value.includes("@");
        var dot = email.value.includes(".");
        var length = email.value.length;
        if(at&&dot&&length>5){
            bEmail = true;
            document.getElementById("email").style.borderBottom="1px solid white";
        }else{
            bEmail = false;
            document.getElementById("email").style.borderBottom="1px solid red";
        }
    }
    function checkDay(){//check birth's day which is fulfil the pattern and validable
        var day = document.getElementById("day");
        var index = document.getElementById("month").selectedIndex;
        if(index==1||index==3||index==5||index==7||index==8||index==10||index==12){
            if(day.value<=31&&day.value>=1) {
                bDay = true;
                document.getElementById("day").style.borderBottom="1px solid white";
            }else {
                bDay = false;
                document.getElementById("day").style.borderBottom="1px solid red";
            }
        }else if(index==4||index==6||index==9||index==11){
            if(day.value<=30&&day.value>=1) {
                bDay = true;
                document.getElementById("day").style.borderBottom="1px solid white";
            }else {
                bDay = false;
                document.getElementById("day").style.borderBottom="1px solid red";
            }
        }else if(index==2){
            if(day.value<=28&&day.value>=1) {
                bDay = true;
                document.getElementById("day").style.borderBottom="1px solid white";
            }else {
                bDay = false;
                document.getElementById("day").style.borderBottom="1px solid red";
            }
        }else{
            bDay = false;
            document.getElementById("day").style.borderBottom="1px solid red";
        }
    }
    function checkYear(){//check birth's year which is fulfil the pattern and validable
        var year = document.getElementById("year");
        var currentDate = new Date();
        if( (year.value < (currentDate.getFullYear()-2)) && (year.value > (currentDate.getFullYear()-100)) ){
            bYear = true;
            document.getElementById("year").style.borderBottom="1px solid white";
        }else{
            bYear = false;
            document.getElementById("year").style.borderBottom="1px solid red";
        }
    }
    function checkAll(){//check all item while submitting the form
        checkPW();
        checkConfirmPW();
        checkEmail();
        checkDay();
        checkYear();
        if(bPW&&bConfirm&&bEmail&&bYear&&bDay){
            document.getElementById("registerForm").submit();
        }else{
           alert("You haven't completed the form with correct pattern!\n!!Red line!!");
        }
    }
    /*
    The above functions is used to check all input field which are saisfying the format and checking they are not empty.
    */
</script>
</html>